<div class="cf-container">

    <div class="ui-g">

        <form autocomplete="off" (ngSubmit)=pesquisar()>

            <div class="ui-g-12">
                <h1>Lançamentos</h1>
            </div>

            <div class="ui-g-12 ui-fluid">
                <label>Descrição</label>
                <input pInputText type="text" name="descricao" [(ngModel)]="filtro.descricao">
            </div>

            <div class="ui-g-12">
                <label style="display: block">Vencimento</label>
                <p-calendar dateFormat="dd/mm/yy" [inputStyle]="{ width: '95px' }" 
                    name="vencimentoInicio" [(ngModel)]="filtro.dataVencimentoInicio"></p-calendar>
                <label>até</label>
                <p-calendar dateFormat="dd/mm/yy" [inputStyle]="{ width: '95px' }" 
                    name="vencimentoFim" [(ngModel)]="filtro.dataVencimentoFim"></p-calendar>
            </div>

            <div class="ui-g-12">
                <button pButton type="submit" label="Pesquisar"></button>
            </div>

        </form>

    </div>

    <div class="ui-g">
        <div class="ui-g-12">
            <!--<app-lancamentos-grid [lancamentos] = "lancamentos"></app-lancamentos-grid> -->
            <p-dataTable [value]="lancamentos" [responsive]="true"
                emptyMessage="Nenhum registro encontrado."
                [paginator]="true" [rows]="filtro.itensPorPagina" 
                [lazy]="true" [totalRecords]="totalRegistros"
                (onLazyLoad)="aoMudarPagina($event)"
                #tabela>
                <p-column header="Pessoa" field="pessoa"></p-column>
                <p-column header="Descrição" field="descricao"></p-column>
                <p-column header="Vencimento" styleClass="cf-col-data" field="dataVencimento">
                    <ng-template let-lanc="rowData" pTemplate="body">
                        <span>{{lanc.dataVencimento  | date:'dd/MM/y'}}</span>
                    </ng-template>
                </p-column>
                <p-column header="Pagamento" styleClass="cf-col-data" field="dataPagamento">
                    <ng-template let-lanc="rowData" pTemplate="body">
                        <span>{{lanc.dataPagamento  | date:'dd/MM/y'}}</span>
                    </ng-template>
                </p-column>
                <p-column header="Valor" styleClass="cf-col-valor" field="valor">
                    <ng-template let-lanc="rowData" pTemplate="body">
                        <span [style.color]="lanc.tipo ==='DESPESA' ? 'red' : 'blue'">{{lanc.valor | currency:'BRL':true:'1.2-2'}}</span>
                    </ng-template>
                </p-column>
                <p-column styleClass="cf-col-acao">
                    <ng-template pTemplate="body" let-lanca="rowData">
                        <a pButton icon="fa-pencil" pTooltip="Editar" tooltipPosition="top"></a>
                        <button pButton icon="fa-trash" pTooltip="Excluir" tooltipPosition="top"
                        (click)="confirmarExclusao(lanca)"></button>
                    </ng-template>
                </p-column>
            </p-dataTable>
        </div>

        <div class="ui-g-12">
            <a pButton label="Novo Lançamento"></a>
        </div>
    </div>

</div>